#!/usr/bin/env ruby
#
# Copyright (C) 2015  Sascha Manns <Sascha.Manns@bdvb.de>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

#$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'PublicanCreators'
require 'PublicanCreators/version'

my_name = 'PublicanCreators.rb'
version = PublicanCreators::VERSION

puts "Script: #{my_name}"
puts "Version: #{version}"
puts
puts 'Copyright (C) 2015 Sascha Manns <Sascha.Manns@xcom.de>'
puts 'Description: This script creates a article or book set with'
puts 'Publican. Then it modifies it for our needs.'
puts 'License: GPL-3'
puts ''
puts 'This program is free software: you can redistribute it and/or modify'
puts 'it under the terms of the GNU General Public License as published by'
puts 'the Free Software Foundation, either version 3 of the License, or'
puts '(at your option) any later version.'
puts ''
puts 'This program is distributed in the hope that it will be useful,'
puts 'but WITHOUT ANY WARRANTY; without even the implied warranty of'
puts 'MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the'
puts 'GNU General Public License for more details.'
puts 'You should have received a copy of the GNU General Public License'
puts 'along with this program.  If not, see <http://www.gnu.org/licenses/>.'

publican_ver_get = `publican -v`
publican_ver = publican_ver_get.delete 'version='

if publican_ver == '2.8'
  raise('You need a 4.x version of publican')
end

exit PublicanCreators.run!